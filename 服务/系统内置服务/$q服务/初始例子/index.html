<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
</head>
<body ng-app="myApp">
    <div ng-controller="myCtrl">
        <p>4843</p>
    </div>
<script src="http://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"></script>
<script>
    var app = angular.module('myApp',[]);
    app.controller('myCtrl', function($q, $http){
        //创建了一个defer对象
        var defer = $q.defer();
        //创建了defer对象对应的promise
        var promise = defer.promise;
        //promise对象定义了成功回调函数,失败回调函数
        promise.then(function (data){
           console.log('成功' + ' ' + data)},
            function(data){
              console.log('失败' + ' ' + data)
            });
        //1.执行这段代码的时候就是执行回调的时候, 2.调用resolve方法,表示需要被执行的是成功的回调, 3.resolve里的参数就是回调执行的时候需要被传入的参数
        defer.resolve('code_bunny');
    })
</script>
</body>
</html>



<!--//创建了一个defer对象;-->
<!--var defer = $q.defer();-->
<!--//创建了defer对象对应的promise-->
<!--var promise = defer.promise;-->
<!--//promise对象定义了成功回调函数,失败回调函数-->
<!--promise.then(function(data){console.log('成功'+data)},function(data){console.log('失败'+data)});-->

<!--//对promise发起通知: 1.执行这段代码的时候就是执行回调的时候, 2.调用resolve方法,表示需要被执行的是成功的回调, 3.resolve里的参数就是回调执行的时候需要被传入的参数-->
<!--defer.resolve('code_bunny') });-->